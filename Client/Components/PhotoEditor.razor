@inject IMemberService MemberService
@inject IAppUserService AppUserService
@inject ISpinnerService SpinnerService
@inject ISnackbar Snackbar

<section>
    @if (_showError)
    {
        <MudAlert Severity="Severity.Error">@_errorText</MudAlert>
    }

    <MudGrid Justify="Justify.Center">

        @foreach (PhotoModel p in AppUserService.AppUser.Photos)
        {
            <PhotoCard Photo="@p" OnImageChanged="HandleImageChangedAsync" />
        }

    </MudGrid>

    <MudText Class="mt-2" Typo="Typo.h4">Add Photos</MudText>

    <MudPaper Outlined="true">
        <InputFile disabled="@_uploading" OnChange="HandleImageUploadAsync" accept="image/*" class="absolute mud-width-full mud-height-full overflow-hidden z-2" style="opacity:0;" />
        <MudIcon Icon="@Icons.Filled.FileUpload" />
        <MudText Typo="Typo.h6">Drop new photo here</MudText>
    </MudPaper>

</section>
